<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Formas Negativas em Inglês - Curso + Quiz (20 Questões)</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{--primary:#3b82f6;--sec:#1e40af;--accent:#60a5fa;--success:#22c55e;--error:#ef4444;--card:#fff;--shadow:0 6px 20px rgba(0,0,0,.12);}
    body{margin:0;padding:18px;font-family:"Segoe UI",sans-serif;background:linear-gradient(135deg,#f0f9ff 0%,#e0f2fe 100%);}
    .container{max-width:960px;margin:auto}
    header{background:var(--card);padding:22px;border-radius:14px;box-shadow:var(--shadow);border-left:8px solid var(--sec);text-align:center}
    h1{color:var(--sec);margin:0;font-size:clamp(1.3rem,4.5vw,2rem)}
    .subtitle{color:var(--primary);margin:6px 0 0}
    .video-container{position:relative;overflow:hidden;width:100%;padding-top:56.25%;margin-top:20px}
    .video-container iframe{position:absolute;top:0;left:0;width:100%;height:100%}
    .quiz-container{background:var(--card);padding:20px;border-radius:12px;box-shadow:var(--shadow);margin-top:20px}
    .question-header{display:flex;justify-content:space-between;flex-wrap:wrap;gap:8px}
    .badge{background:rgba(96,165,250,.12);padding:8px 14px;border-radius:999px;font-weight:700;color:var(--sec)}
    .progress-bar{height:12px;background:#e8f4ff;border-radius:10px;overflow:hidden;margin:12px 0}
    .progress{height:100%;background:linear-gradient(90deg,var(--accent),var(--primary));width:0;transition:width .45s}
    .question{background:#f8fafc;padding:14px;border-left:5px solid var(--accent);border-radius:10px;margin:14px 0;font-size:1.05rem}
    .options{display:grid;gap:12px;grid-template-columns:1fr}
    @media(min-width:600px){.options{grid-template-columns:1fr 1fr}}
    .option{display:flex;align-items:center;gap:12px;padding:12px;border-radius:10px;border:2px solid #dbeafe;background:#f8fafc;cursor:pointer}
    .option:hover{background:#f1f5f9;border-color:var(--accent)}
    .letter{width:30px;height:30px;border-radius:50%;background:#dbeafe;display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--sec)}
    .option.correct{border-color:var(--success);background:rgba(34,197,94,.08)}
    .option.incorrect{border-color:var(--error);background:rgba(239,68,68,.06)}
    .feedback{display:none;margin-top:12px;padding:12px;border-radius:10px;border-left:5px solid var(--accent);background:#fbfdff}
    .feedback.show{display:block}
    .correct-answer{font-weight:700;margin-bottom:8px}
    .buttons{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}
    .btn{padding:10px 16px;border-radius:10px;border:0;background:linear-gradient(135deg,var(--accent),var(--primary));color:#fff;font-weight:700;cursor:pointer}
    .btn:disabled{opacity:.6;cursor:not-allowed}
    .result-container{display:none;text-align:center;background:var(--card);padding:20px;border-radius:12px;box-shadow:var(--shadow);margin-top:16px}
    .result-container.show{display:block}
    .score{font-size:1.6rem;color:var(--primary);margin:8px 0}
    .review-container{display:none;background:var(--card);padding:16px;border-radius:12px;box-shadow:var(--shadow);margin-top:14px}
    .review-question{margin-bottom:12px;padding:12px;border-left:5px solid var(--accent);border-radius:8px;background:#f8fafc}
    .user-answer.correct{color:var(--success);font-weight:700}
    .user-answer.incorrect{color:var(--error);font-weight:700}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>🚫 Formas Negativas em Inglês - Curso + Quiz</h1>
      <p class="subtitle">Assista à aula e pratique com 20 questões interativas.</p>
    </header>

    <!-- VÍDEO -->
    <div class="video-container">
      <iframe width="560" height="315" src="https://www.youtube.com/embed/c6Wu3uB6zSA?si=Wo7TPsfX-JFCEKoL" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>

    <!-- QUIZ -->
    <section class="quiz-container">
      <div class="question-header">
        <div class="badge">Questão <span id="current-question">1</span> de <span id="total-questions"></span></div>
        <div class="badge">Pontuação: <span id="current-score">0</span></div>
      </div>

      <div class="progress-bar"><div id="progress" class="progress"></div></div>

      <div class="question" id="question-text">Carregando...</div>
      <audio controls id="audio" style="margin:12px 0;"></audio>
      <div class="options" id="options-container"></div>
      <div class="feedback" id="feedback">
        <div class="correct-answer" id="correct-answer"></div>
        <div id="explanation"></div>
      </div>
      <div class="buttons">
        <button class="btn" id="next-btn" disabled>Próxima</button>
      </div>
    </section>

    <!-- RESULTADO -->
    <section class="result-container" id="result-container">
      <h2><i class="fas fa-medal"></i> Quiz Finalizado!</h2>
      <div class="score" id="final-score">0</div>
      <p id="percentage"></p>
      <button class="btn" id="review-btn">Revisar</button>
      <button class="btn" onclick="location.reload()">Reiniciar</button>
    </section>

    <!-- REVISÃO -->
    <section class="review-container" id="review-container"></section>
  </div>

  <script>
    const questions = [
      // --- originais ---
      {q:"They ___ agree. (NOT)",a:"do not",options:["do not","does not","not"],reason:"Usamos NOT com auxiliares: 'They do not agree.'",sentence:"They do not agree."},
      {q:"I ___ like sushi. (DON'T)",a:"don't",options:["don't","doesn't","not"],reason:"No presente simples, usamos don't para I/you/we/they.",sentence:"I don't like sushi."},
      {q:"She ___ work here. (DOESN'T)",a:"doesn't",options:["doesn't","don't","didn't"],reason:"3ª pessoa singular: 'She doesn't work here.'",sentence:"She doesn't work here."},
      {q:"We ___ go yesterday. (DIDN'T)",a:"didn't",options:["didn't","don't","wasn't"],reason:"No passado simples usamos didn't + verbo base.",sentence:"We didn't go yesterday."},
      {q:"I ___ swim. (CAN'T)",a:"can't",options:["can't","won't","not"],reason:"Can't = não posso / não sei.",sentence:"I can't swim."},
      {q:"It ___ rain tomorrow. (WON'T)",a:"won't",options:["won't","can't","isn't"],reason:"Won't = will not (futuro negativo).",sentence:"It won't rain tomorrow."},
      {q:"I ___ eaten yet. (HAVEN'T)",a:"haven't",options:["haven't","hasn't","didn't"],reason:"Haven't = present perfect negativo (I/you/we/they).",sentence:"I haven't eaten yet."},
      {q:"You ___ smoke. (SHOULDN'T)",a:"shouldn't",options:["shouldn't","mustn't","can't"],reason:"Shouldn't = conselho negativo.",sentence:"You shouldn't smoke."},
      {q:"They ___ ready. (AREN'T)",a:"aren't",options:["aren't","isn't","don't"],reason:"Aren't = forma negativa de are (plural).",sentence:"They aren't ready."},
      {q:"He ___ here. (ISN'T)",a:"isn't",options:["isn't","aren't","doesn't"],reason:"Isn't = forma negativa de is (singular).",sentence:"He isn't here."},
      // --- novas ---
      {q:"We ___ watching TV now. (AREN'T)",a:"aren't",options:["aren't","isn't","don't"],reason:"Usamos aren't no presente contínuo com 'we'.",sentence:"We aren't watching TV now."},
      {q:"She ___ finished her homework yet. (HAS NOT)",a:"hasn't",options:["hasn't","haven't","didn't"],reason:"Present perfect negativo para 'she': hasn't.",sentence:"She hasn't finished her homework yet."},
      {q:"I ___ believe that story. (CANNOT)",a:"cannot",options:["cannot","don't","didn't"],reason:"Cannot = forma mais formal de can't.",sentence:"I cannot believe that story."},
      {q:"You ___ park here. (MUSTN'T)",a:"mustn't",options:["mustn't","shouldn't","can't"],reason:"Mustn't = proibição. Ex: You mustn't park here.",sentence:"You mustn't park here."},
      {q:"He ___ going to travel this weekend. (ISN'T)",a:"isn't",options:["isn't","aren't","wasn't"],reason:"Negativa do be going to (he): isn't.",sentence:"He isn't going to travel this weekend."},
      {q:"They ___ been to London before. (HAVEN'T)",a:"haven't",options:["haven't","hasn't","didn't"],reason:"Haven't = present perfect plural.",sentence:"They haven't been to London before."},
      {q:"We ___ meet tomorrow. (WON'T)",a:"won't",options:["won't","don't","can't"],reason:"Won't = futuro negativo com will.",sentence:"We won't meet tomorrow."},
      {q:"She ___ like horror movies. (DOESN'T)",a:"doesn't",options:["doesn't","don't","didn't"],reason:"3ª pessoa singular usa doesn't.",sentence:"She doesn't like horror movies."},
      {q:"I ___ hungry right now. (AM NOT)",a:"am not",options:["am not","isn't","aren't"],reason:"Primeira pessoa singular: I am not.",sentence:"I am not hungry right now."},
      {q:"The kids ___ sleeping. (AREN'T)",a:"aren't",options:["aren't","isn't","wasn't"],reason:"Plural: kids → aren't sleeping.",sentence:"The kids aren't sleeping."}
    ];

    let currentIndex=0,score=0,userAnswers=[];
    const totalQuestionsEl=document.getElementById("total-questions");
    const currentQuestionEl=document.getElementById("current-question");
    const questionText=document.getElementById("question-text");
    const optionsContainer=document.getElementById("options-container");
    const feedbackEl=document.getElementById("feedback");
    const correctAnswerEl=document.getElementById("correct-answer");
    const explanationEl=document.getElementById("explanation");
    const nextBtn=document.getElementById("next-btn");
    const scoreEl=document.getElementById("current-score");
    const progressEl=document.getElementById("progress");
    const resultContainer=document.getElementById("result-container");
    const finalScoreEl=document.getElementById("final-score");
    const percentageEl=document.getElementById("percentage");
    const audioEl=document.getElementById("audio");
    const reviewBtn=document.getElementById("review-btn");
    const reviewContainer=document.getElementById("review-container");

    totalQuestionsEl.textContent=questions.length;

    function loadQuestion(){
      const q=questions[currentIndex];
      currentQuestionEl.textContent=currentIndex+1;
      questionText.textContent=q.q;
      audioEl.src=`https://api.streamelements.com/kappa/v2/speech?voice=Brian&text=${encodeURIComponent(q.sentence)}`;
      optionsContainer.innerHTML="";
      q.options.forEach((opt,i)=>{
        const div=document.createElement("div");
        div.className="option";
        div.innerHTML=`<div class="letter">${String.fromCharCode(65+i)}</div><div>${opt}</div>`;
        div.addEventListener("click",()=>selectOption(div,opt,q.a,q.reason));
        optionsContainer.appendChild(div);
      });
      feedbackEl.classList.remove("show");
      nextBtn.disabled=true;
      progressEl.style.width=`${(currentIndex/questions.length)*100}%`;
    }

    function selectOption(div,chosen,correct,reason){
      document.querySelectorAll(".option").forEach(o=>o.classList.remove("selected"));
      div.classList.add("selected");
      nextBtn.disabled=false;
      feedbackEl.classList.add("show");
      correctAnswerEl.textContent="Resposta correta: "+correct;
      explanationEl.textContent=reason;
      userAnswers[currentIndex]={chosen,correct,reason};
      if(chosen.trim().toLowerCase()===correct.trim().toLowerCase()){
        div.classList.add("correct");score++;scoreEl.textContent=score;
      }else{
        div.classList.add("incorrect");
        document.querySelectorAll(".option").forEach(optEl=>{
          if(optEl.innerText.includes(correct)) optEl.classList.add("correct");
        });
      }
    }

    nextBtn.addEventListener("click",()=>{
      currentIndex++;
      if(currentIndex<questions.length){loadQuestion();}
      else{showResults();}
    });

    function showResults(){
      document.querySelector(".quiz-container").style.display="none";
      resultContainer.classList.add("show");
      finalScoreEl.textContent=`${score} / ${questions.length}`;
      const percent=Math.round((score/questions.length)*100);
      percentageEl.textContent=`Sua pontuação: ${percent}%`;
    }

    reviewBtn.addEventListener("click",()=>{
      resultContainer.style.display="none";
      reviewContainer.style.display="block";
      reviewContainer.innerHTML="<h2>Revisão</h2>";
      questions.forEach((q,i)=>{
        const div=document.createElement("div");
        div.className="review-question";
        const ua=userAnswers[i]?userAnswers[i].chosen:"Sem resposta";
        const isCorrect=userAnswers[i]&&userAnswers[i].chosen.toLowerCase()===q.a.toLowerCase();
        div.innerHTML=`
          <h3>Q${i+1}: ${q.q}</h3>
          <p class="user-answer ${isCorrect?'correct':'incorrect'}">Sua resposta: ${ua}</p>
          <p><strong>Correta:</strong> ${q.a}</p>
          <p><em>${q.reason}</em></p>
        `;
        reviewContainer.appendChild(div);
      });
    });

    loadQuestion();
  </script>
</body>
</html>
